<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QUESTÕES</title>
  <link rel="icon" type="image/x-icon" href="../assets/image/favicon.ico">
  <link rel="stylesheet" href="../assets/css/app.css"/>
  <link rel="stylesheet" href="../assets/css/main.min.css">
</head>
<body class="fundo-quiz">
  <div class="container">
    <div id="loader"></div>
    <div id="game" class="main-box-game justify-center flex-column hidden">
      <div id="hud">
        <div id="hud-item">
          <p id="progressText" class="hud-prefix"></p>
          <div id="progressBar">
            <div id="progressBarFull"></div>
          </div>
        </div>
        <div id="hud-item" style="display: none;">
          <p class="hud-prefix">SCORE</p>
          <h1 class="hud-main-text" id="score">0</h1>
        </div>
      </div>

      <div class="audiotextoenunciado">
        <div id="questionsound" class="text-center sound-text" data-number2="5"></div>
        <h2 id="question" class="question"></h2>
      </div>

      <div>
        <h4 id="category" style="display: none;"></h4>
      </div>


      <div id="image" class="image-question" style="display: none;"></div>

      <div class="choice-container-master">

        <div class="choice-container">
          <p class="choice-prefix">A</p>
          <p class="choice-text" data-number="1"></p>
          <div class="qimage-text" data-number3="1"></div>
        </div>
        <div class="choice-container">
          <p class="choice-prefix">B</p>
          <p class="choice-text" data-number="2"></p>
          <div class="qimage-text" data-number3="2"></div>
        </div>
        <div class="choice-container">
          <p class="choice-prefix">C</p>
          <p class="choice-text" data-number="3"></p>
          <div class="qimage-text" data-number3="3"></div>
        </div>
        <!-- <div class="choice-container">
          <p class="choice-prefix">D</p>
          <p class="choice-text" data-number="4" style="display: none;"></p>
          <p class="qimage-text" data-number3="4"></p>
        </div> -->
      </div>
    </div>
  </div>
  
  <script src="../assets/js/game.js"></script>
  <script src="../assets/js/DragDropTouch.js"></script>
  <script src="../assets/js/sweetalert2.all.min.js"></script>
  <script src="../assets/js/jquery-1.12.4.min.js"></script>

  <script>
    $(".sound-text").click(function() {

      let $this = $(this),
          audio = $this.find('audio')[0],
          playNumber = $this.data();

      // Procura o que tá tocando e o para.
      $(".sound-text").each(function() {
        let tocando = $(this).find('.btnplayaudio.active');
        // Verifico se tá tocando e se não é o mesmo player
        if(tocando.length == 1 && playNumber != $(this).data()) {
          $(this).find('audio')[0].currentTime = 0;
          $(this).find('audio')[0].pause();
          $(this).children('.btnplayaudio').text('PLAY').removeClass('active');
        }
      });

      // Verifica se tá pausado ou ainda não iniciou, caso positivo, aplica o play.
      if(audio.paused) {
        $(this).children('.btnplayaudio').text('PAUSE').addClass('active');
        audio.play();
      } else {
        audio.pause();
        $(this).children('.btnplayaudio').text('PLAY').removeClass('active');
      }

      audio.addEventListener('ended', function() {
        $this.children('.btnplayaudio').text('PLAY').removeClass('active');
      }, false);

    });

</script>

</body>
</html>